<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dronito D3</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <style>
        .grid-line {
            fill: grey;
            stroke: grey;
            stroke-width: 0.3px;
        }
    </style>
</head>
<body>
    <h1>Drones</h1>
    <script>
        var width = 500;
        var height = 500;
        var margin = 25;
        var axisLength = width - 2 * margin;
        var line = null;

        var data1 = [
            {x: 0, y: 4},
            {x: 1, y: 9},
            {x: 2, y: 6},
            {x: 4, y: 5},
            {x: 6, y: 7},
            {x: 7, y: 3},
            {x: 9, y: 2},
            {x: 10, y: 2}
        ];

        var data2 = [
            {x: 0, y: 3},
            {x: 2, y: 7},
            {x: 3, y: 4},
            {x: 4, y: 3},
            {x: 6, y: 3},
            {x: 8, y: 4},
            {x: 9, y: 1},
            {x: 10, y: 1}
        ];

        var curveTypeMap = {
            linear: d3.curveLinear,
            linearClosed: d3.curveLinearClosed,
            basis: d3.curveBasis,
            basisClosed: d3.curveBasisClosed,
            cardinal: d3.curveCardinal,
            cardinalClosed: d3.curveCardinalClosed,
            step: d3.curveStep,
            stepBefore: d3.curveStepBefore,
            stepAfter: d3.curveStepAfter,
            bundle: d3.curveBundle
        };

        var svgContainer = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height)
            .style("border", "1px solid");

        var xScale = d3.scaleLinear()
            .domain([0, 10])
            .range([0, axisLength]);

        var yScale = d3.scaleLinear()
            .domain([10, 0])
            .range([0, axisLength]);

        function renderXAxis() {
            var xAxis = d3.axisBottom(xScale);
            svgContainer.append("g")
                .classed("x-axis", true)
                .attr("transform", function() {
                    return "translate(" + margin + "," + (height - margin) + ")";
                })
                .call(xAxis);
            svgContainer.selectAll("g.x-axis g.tick")
                .append("line")
                .classed("grid-line", true)
                .attr("x1", 0)
                .attr("y1", 0)
                .attr("x2", 0)
                .attr("y2", -(height - 2 * margin));
        }
        function renderYAxis() {
            var yAxis = d3.axisLeft(yScale);
            svgContainer.append("g")
                .classed("y-axis", true)
                .attr("transform", function() {
                    return "translate(" + margin + "," + margin + ")";
                })
                .call(yAxis);
            svgContainer.selectAll("g.y-axis g.tick")
                .append("line")
                .classed("grid-line", true)
                .attr("x1", 0)
                .attr("y1", 0)
                .attr("x2", axisLength)
                .attr("y2", 0);
        };

        function render(curveType) {
            d3.selectAll("path.line1,path.line2").remove();

            line = d3.line()
                .x(function(d) { return xScale(d.x); })
                .y(function(d) { return yScale(d.y); })
                .curve(curveTypeMap[curveType]); // Specifies the curve type (interpolation)

            svgContainer.append("path")
                .classed("line1", true)
                .attr("d", line(data1))
                .attr("fill", "none")
                .attr("stroke", "red")
                .attr("transform", function() {
                    return "translate(" + margin + "," + margin + ")";
                });

            svgContainer.append("path")
                .classed("line2", true)
                .attr("d", line(data2))
                .attr("fill", "none")
                .attr("stroke", "blue")
                .attr("transform", function() {
                    return "translate(" + margin + "," + margin + ")";
                });
        }

        renderXAxis();
        renderYAxis();
        render("cardinal");
    </script>
</body>
</html>